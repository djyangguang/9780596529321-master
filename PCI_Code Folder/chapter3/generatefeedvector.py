
# -*- coding: UTF-8 -*-
import feedparser
import re

# Returns title and dictionary of word counts for an RSS feed
#对订阅源的RSS中计数。
# 从源中解析标题及包含的单词计数情况的字典
def getwordcounts(url):
  # Parse the feed
  d=feedparser.parse(url)
  wc={}

  # Loop over all the entries 遍历所有的文章条目
  #e = {'summary_detail': {'base': u'https://www.engadget.com/rss.xml', 'type': u'text/html', 'value': u'<img src="https://s.yimg.com/os/creatr-uploaded-images/2020-08/724fd3d0-e21b-11ea-bf7f-a98ef6be634e" />Bad news if you\u2019re turning to Spotify for some morning tunes. In the US, Spotify users are reporting that songs just stop playing after about 10 seconds. A handful of Engadget editors have experienced this issue, the reliable Down Detector site is sh...', 'language': None}, 'published_parsed': time.struct_time(tm_year=2020, tm_mon=8, tm_mday=19, tm_hour=13, tm_min=4, tm_sec=56, tm_wday=2, tm_yday=232, tm_isdst=0), 'author': u'Nathan Ingraham', 'links': [{'href': u'https://www.engadget.com/spotify-us-outage-august-2020-130456478.html', 'type': u'text/html', 'rel': u'alternate'}], 'title': u'Spotify songs are only playing for a few seconds before stopping', 'tags': [{'term': u'entertainment', 'scheme': None, 'label': None}, {'term': u'news', 'scheme': None, 'label': None}, {'term': u'outage', 'scheme': None, 'label': None}, {'term': u'spotify', 'scheme': None, 'label': None}, {'term': u'streaming music', 'scheme': None, 'label': None}], 'comments': u'https://www.engadget.com/spotify-us-outage-august-2020-130456478.html#comments', 'summary': u'<img src="https://s.yimg.com/os/creatr-uploaded-images/2020-08/724fd3d0-e21b-11ea-bf7f-a98ef6be634e" />Bad news if you\u2019re turning to Spotify for some morning tunes. In the US, Spotify users are reporting that songs just stop playing after about 10 seconds. A handful of Engadget editors have experienced this issue, the reliable Down Detector site is sh...', 'guidislink': False, 'title_detail': {'base': u'https://www.engadget.com/rss.xml', 'type': u'text/plain', 'value': u'Spotify songs are only playing for a few seconds before stopping', 'language': None}, 'link': u'https://www.engadget.com/spotify-us-outage-august-2020-130456478.html', 'authors': [{'name': u'Nathan Ingraham'}], 'author_detail': {'name': u'Nathan Ingraham'}, 'dc_identifier': u'|72e9246b-7f3d-3444-88c3-6a7aeb5814a7', 'id': u'https://www.engadget.com/spotify-us-outage-august-2020-130456478.html', 'published': u'Wed, 19 Aug 2020 09:04:56 -0400'}
  for e in d.entries:
    if 'summary' in e: summary=e.summary
    else: summary=e.description

    # Extract a list of words 提取一个单词的列表
    words=getwords(e.title+' '+summary)
    for word in words:
      wc.setdefault(word,0)
      wc[word]+=1
  return d.feed.title,wc

def getwords(html):
  # Remove all the HTML tags 去除所有html的标记
  txt=re.compile(r'<[^>]+>').sub('',html)
#<type 'list'>: [u'Spotify', u'songs', u'are', u'only', u'playing', u'for', u'a', u'few', u'seconds', u'before', u'stopping', u'Bad', u'news', u'if', u'you', u're', u'turning', u'to', u'Spotify', u'for', u'some', u'morning', u'tunes', u'In', u'the', u'US', u'Spotify', u'users', u'are', u'reporting', u'that', u'songs', u'just', u'stop', u'playing', u'after', u'about', u'seconds', u'A', u'handful', u'of', u'Engadget', u'editors', u'have', u'experienced', u'this', u'issue', u'the', u'reliable', u'Down', u'Detector', u'site', u'is', u'sh', u'']
  # Split words by all non-alpha characters 利用所有非字母字符拆分出单词
  words=re.compile(r'[^A-Z^a-z]+').split(txt)

  # Convert to lowercase 转化成小写。
  #word.lower() = u'spotify'
  return [word.lower() for word in words if word!='']


apcount={}#出现这些单词的博客数目
wordcounts={}
feedlist=[line for line in file('feedlist.txt')] # 博客列表。。生成针对每个博客的单词统计
for feedurl in feedlist:
  try:
    # title = u'Engadget RSS Feed'
    # wc = {u'all': 4, u'code': 1, u'pointing': 1, u'caused': 1, u'results': 1, u'month': 1, u'kicks': 1, u'excludes': 1, u'companies': 1, u'editors': 1, u'to': 27, u'finally': 1, u'helps': 1, u'th': 3, u'insights': 1, u'garden': 1, u'outside': 2, u'very': 1, u'facebook': 5, u'fall': 2, u'exits': 1, u'button': 3, u'misinformation': 1, u'michael': 1, u'team': 1, u'sounders': 2, u'heading': 2, u'says': 1, u'instagram': 3, u'dealing': 1, u'cost': 1, u'video': 7, u'podcasts': 1, u'machines': 2, u'even': 1, u'what': 1, u'deeply': 1, u'find': 1, u'access': 5, u'experiment': 1, u'new': 3, u'rd': 1, u'ever': 1, u'public': 2, u'can': 5, u'full': 1, u'velazco': 1, u'here': 1, u'hundreds': 1, u'fun': 1, u'axios': 1, u'let': 1, u'free': 3, u'making': 3, u'active': 1, u'november': 1, u'change': 1, u'great': 1, u'kids': 4, u'usps': 1, u'allows': 2, u'membership': 1, u'products': 1, u'social': 1, u'action': 1, u'ipados': 1, u'options': 1, u'via': 1, u'shuffle': 2, u'wearables': 1, u'search': 2, u'app': 5, u'young': 1, u'post': 1, u'from': 5, u'stream': 2, u'two': 2, u'next': 2, u'few': 2, u'camera': 1, u'music': 2, u'wondering': 1, u'until': 1, u'today': 2, u'more': 4, u'upcoming': 2, u'started': 2, u'company': 4, u'it': 8, u'phone': 3, u'visual': 1, u'known': 1, u'subscription': 2, u'walled': 1, u'account': 1, u'trackers': 1, u'this': 5, u'supergiant': 1, u'work': 1, u'other': 1, u'era': 1, u'tracing': 1, u'meet': 3, u'drops': 1, u'recipes': 1, u'pick': 1, u'dedicated': 1, u'launching': 1, u'links': 1, u'give': 1, u'december': 1, u'purposes': 1, u'states': 1, u'mayhem': 1, u'something': 2, u'want': 3, u'information': 1, u'united': 1, u'six': 1, u'feature': 3, u'delay': 1, u'located': 1, u'criterion': 2, u'answer': 1, u'plandemic': 2, u'w': 1, u'may': 1, u'watch': 2, u'after': 8, u'containing': 1, u'collection': 1, u'catalog': 1, u'designed': 1, u'a': 34, u'short': 1, u'effective': 1, u'oculus': 3, u'st': 2, u'tale': 2, u'defaced': 1, u'switch': 3, u'sh': 1, u'vfx': 1, u'playing': 2, u'help': 1, u'september': 4, u'soon': 4, u'years': 1, u'produced': 1, u'including': 1, u'converting': 1, u'still': 2, u'its': 7, u'before': 1, u'spotify': 3, u'fit': 3, u'how': 2, u'll': 4, u'destroyed': 1, u'platform': 1, u'systems': 1, u'version': 1, u'relate': 1, u'mail': 3, u'weeks': 1, u'soccer': 1, u'might': 1, u'techcrunch': 1, u'then': 1, u'them': 2, u'good': 1, u'effects': 1, u'they': 2, u'not': 5, u'scorsese': 1, u'rotation': 1, u'now': 9, u'day': 2, u'viewers': 1, u'name': 1, u'debut': 1, u'loosely': 1, u'engadget': 2, u'coronavirus': 2, u'mode': 1, u'notes': 1, u'trailer': 2, u'profile': 2, u'studios': 1, u'everyone': 1, u'adobe': 2, u'suspended': 1, u'series': 3, u'adventure': 3, u'ea': 3, u'bluetooth': 1, u'goose': 4, u'year': 2, u'et': 1, u'girl': 1, u'bay': 1, u'regionally': 1, u'event': 1, u'whip': 1, u'out': 4, u'blu': 2, u'open': 1, u'since': 2, u'looking': 1, u're': 5, u'max': 2, u'get': 3, u'issue': 1, u'viable': 1, u'announced': 1, u'shows': 1, u'turning': 1, u'possibility': 1, u'previews': 1, u'release': 1, u'completely': 1, u'flyer': 2, u'besides': 1, u'generate': 1, u'card': 1, u'owners': 1, u'could': 3, u'pandemic': 2, u'covid': 1, u'turn': 1, u'lte': 1, u'first': 4, u'major': 1, u'already': 1, u'chromecast': 1, u'number': 1, u'one': 3, u'feet': 1, u'directly': 1, u'titled': 1, u'ring': 3, u'electronic': 1, u'owning': 1, u'heads': 1, u'service': 5, u'their': 4, u'returns': 1, u'friend': 1, u'rewards': 1, u'that': 15, u'memo': 1, u'serve': 1, u'released': 1, u'part': 2, u'off': 3, u'copy': 1, u'ipad': 5, u'b': 2, u'require': 2, u'utopia': 2, u'titles': 2, u'store': 1, u'cards': 1, u'feeling': 1, u'pre': 1, u'mini': 2, u'false': 1, u'pro': 3, u'mind': 1, u'say': 1, u'have': 8, u'close': 1, u'need': 1, u'orders': 1, u'ray': 2, u'sell': 1, u'built': 1, u'able': 1, u'note': 3, u'mix': 1, u'accessories': 1, u'costs': 1, u'which': 2, u'online': 1, u'detector': 1, u'worldwide': 1, u'play': 10, u'added': 1, u'electric': 1, u'though': 2, u'price': 2, u'measures': 1, u'paid': 1, u'most': 1, u'eight': 1, u'plan': 1, u'services': 1, u'accepting': 1, u'the': 52, u'reward': 1, u'don': 2, u'exc': 1, u'mobile': 1, u'performances': 1, u'later': 1, u'm': 1, u'sale': 2, u'tech': 1, u'artistic': 1, u'joining': 1, u'bring': 1, u'radio': 2, u'teamed': 1, u'overwhelmed': 1, u'handmaid': 2, u'giant': 1, u'believe': 1, u'based': 2, u'delays': 1, u'writer': 1, u'written': 1, u'only': 5, u'going': 1, u'folks': 1, u'hit': 1, u'watching': 2, u'stop': 2, u'amazon': 5, u'despite': 1, u'bird': 1, u'prime': 4, u'qr': 2, u'enlisting': 1, u'h': 2, u'remove': 1, u'morning': 2, u'bad': 1, u'activity': 1, u'tunes': 1, u'where': 3, u'steam': 3, u'acquired': 1, u'testing': 2, u'analytics': 3, u'are': 7, u'hell': 1, u'jobs': 1, u'best': 1, u'televised': 1, u'movie': 1, u'currently': 1, u'enough': 1, u'probably': 1, u'across': 3, u'available': 4, u'we': 1, u'attention': 1, u'recently': 1, u'august': 2, u'logins': 1, u'sold': 1, u'handful': 1, u'wi': 1, u'news': 1, u'league': 1, u'c': 1, u'last': 2, u'reported': 1, u'country': 1, u'taking': 2, u'against': 1, u's': 21, u'games': 5, u'buzz': 1, u'adapted': 1, u'roguelike': 1, u'comes': 1, u'and': 18, u'point': 1, u'reasons': 1, u'ca': 1, u'period': 1, u'demos': 1, u'initiative': 1, u'rpg': 1, u'throughout': 1, u'along': 1, u'better': 1, u'snapchat': 3, u'powered': 1, u'create': 1, u'three': 2, u'been': 3, u'pc': 2, u'much': 2, u'waste': 1, u'pm': 1, u'shopping': 2, u'deeper': 1, u'packs': 1, u'releasing': 1, u'hits': 1, u'photos': 1, u'catch': 1, u'countless': 1, u'smartphones': 1, u'reliable': 1, u'n': 1, u'will': 18, u'mls': 1, u'stopping': 1, u'ultra': 1, u'launched': 1, u've': 2, u'conferences': 1, u'almost': 1, u'is': 20, u'site': 1, u'player': 1, u'minds': 1, u'in': 16, u'seattle': 2, u'worry': 1, u'if': 6, u'confirmed': 1, u'annoying': 1, u'podcasting': 1, u'media': 1, u'same': 3, u'any': 2, u'widely': 1, u'units': 1, u'lithium': 1, u'used': 2, u'itch': 1, u'reporting': 1, u'ion': 1, u'codes': 2, u'moving': 1, u'recent': 1, u'discounted': 1, u'older': 2, u'i': 1, u'well': 1, u'picks': 1, u'sports': 1, u'contact': 1, u'y': 2, u'model': 4, u'creators': 1, u'musical': 1, u'left': 1, u'things': 1, u'newest': 1, u'just': 2, u'less': 1, u'photo': 1, u'laptop': 1, u'executive': 1, u'hades': 3, u'thanks': 2, u'useful': 1, u'alternative': 1, u'prince': 1, u'apple': 2, u'tablet': 1, u'also': 2, u'had': 2, u'shortcut': 1, u'snag': 1, u'battery': 1, u'spread': 2, u'sedan': 1, u'struck': 1, u'has': 10, u'smart': 1, u'tests': 1, u'big': 2, u'early': 2, u'game': 5, u'amp': 2, u'bit': 1, u'postal': 1, u'lincoln': 2, u'sorting': 2, u'like': 6, u'gifted': 2, u'streamers': 2, u't': 4, u'martin': 1, u'stylish': 2, u'google': 8, u'often': 2, u'deal': 3, u'people': 3, u'twitter': 2, u'some': 4, u'back': 3, u'library': 1, u'streaming': 5, u'experienced': 1, u'election': 1, u'podcasters': 1, u'adorably': 1, u'for': 20, u'drivable': 1, u'content': 3, u'be': 9, u'subscriptions': 2, u'seconds': 2, u'arts': 1, u'expansion': 1, u'credits': 1, u'nametags': 1, u'by': 5, u'on': 11, u'about': 2, u'anything': 1, u'netflix': 5, u'of': 14, u'months': 1, u'o': 1, u'twitch': 2, u'irishman': 2, u'software': 1, u'researching': 1, u'formerly': 1, u'headsets': 1, u'into': 3, u'washington': 1, u'billions': 1, u'getting': 1, u'down': 1, u'rolling': 1, u'gillian': 2, u'registration': 1, u'happening': 1, u'your': 4, u'stitcher': 1, u'log': 1, u'removing': 1, u'there': 2, u'accordingly': 1, u'way': 1, u'house': 2, u'was': 1, u'flynn': 2, u'offering': 1, u'offer': 1, u'sequel': 1, u'simulator': 1, u'but': 5, u'delivery': 1, u'viewable': 1, u'tvs': 1, u'podcast': 2, u'with': 12, u'posted': 2, u'october': 3, u'mavericks': 1, u'platforms': 3, u'attached': 1, u'up': 3, u'devices': 1, u'untitled': 4, u'customers': 1, u'uk': 1, u'similar': 1, u'display': 1, u'gone': 1, u'promises': 1, u'geese': 1, u'tesla': 4, u'an': 9, u'as': 9, u'right': 1, u'at': 5, u'deezer': 3, u'check': 1, u'physical': 1, u'beyond': 1, u'us': 1, u'no': 2, u'when': 1, u'virtual': 2, u'valid': 1, u'test': 3, u'you': 20, u'roll': 1, u'stat': 1, u'users': 5, u'models': 2, u'update': 6, u'includes': 1, u'nintendo': 2, u'chris': 1, u'depicting': 1, u'ago': 1, u'longer': 1, u'calls': 1, u'samsung': 2, u'dvd': 1, u'youtube': 1, u'memorial': 1, u'u': 1, u'time': 1, u'push': 1, u'lineup': 1, u'starting': 3, u'songs': 2}
    title,wc=getwordcounts(feedurl)
    wordcounts[title]=wc#{u'Engadget RSS Feed': {u'all': 4, u'code': 1, u'pointing': 1, u'caused': 1, u'results': 1, u'month': 1, u'kicks': 1, u'excludes': 1, u'companies': 1, u'editors': 1, u'to': 27, u'finally': 1, u'helps': 1, u'th': 3, u'insights': 1, u'garden': 1, u'outside': 2, u'very': 1, u'facebook': 5, u'fall': 2, u'exits': 1, u'button': 3, u'misinformation': 1, u'michael': 1, u'team': 1, u'sounders': 2, u'heading': 2, u'says': 1, u'instagram': 3, u'dealing': 1, u'cost': 1, u'video': 7, u'podcasts': 1, u'machines': 2, u'even': 1, u'what': 1, u'deeply': 1, u'find': 1, u'access': 5, u'experiment': 1, u'new': 3, u'rd': 1, u'ever': 1, u'public': 2, u'can': 5, u'full': 1, u'velazco': 1, u'here': 1, u'hundreds': 1, u'fun': 1, u'axios': 1, u'let': 1, u'free': 3, u'making': 3, u'active': 1, u'november': 1, u'change': 1, u'great': 1, u'kids': 4, u'usps': 1, u'allows': 2, u'membership': 1, u'products': 1, u'social': 1, u'action': 1, u'ipados': 1, u'options': 1, u'via': 1, u'shuffle': 2, u'wearables': 1, u'search': 2, u'app': 5, u'young': 1, u'post': 1, u'from': 5, u'stream': 2, u'two': 2, u'next': 2, u'few': 2, u'camera': 1, u'music': 2, u'wondering': 1, u'until': 1, u'today': 2, u'more': 4, u'upcoming': 2, u'started': 2, u'company': 4, u'it': 8, u'phone': 3, u'visual': 1, u'known': 1, u'subscription': 2, u'walled': 1, u'account': 1, u'trackers': 1, u'this': 5, u'supergiant': 1, u'work': 1, u'other': 1, u'era': 1, u'tracing': 1, u'meet': 3, u'drops': 1, u'recipes': 1, u'pick': 1, u'dedicated': 1, u'launching': 1, u'links': 1, u'give': 1, u'december': 1, u'purposes': 1, u'states': 1, u'mayhem': 1, u'something': 2, u'want': 3, u'information': 1, u'united': 1, u'six': 1, u'feature': 3, u'delay': 1, u'located': 1, u'criterion': 2, u'answer': 1, u'plandemic': 2, u'w': 1, u'may': 1, u'watch': 2, u'after': 8, u'containing': 1, u'collection': 1, u'catalog': 1, u'designed': 1, u'a': 34, u'short': 1, u'effective': 1, u'oculus': 3, u'st': 2, u'tale': 2, u'defaced': 1, u'switch': 3, u'sh': 1, u'vfx': 1, u'playing': 2, u'help': 1, u'september': 4, u'soon': 4, u'years': 1, u'produced': 1, u'including': 1, u'converting': 1, u'still': 2, u'its': 7, u'before': 1, u'spotify': 3, u'fit': 3, u'how': 2, u'll': 4, u'destroyed': 1, u'platform': 1, u'systems': 1, u'version': 1, u'relate': 1, u'mail': 3, u'weeks': 1, u'soccer': 1, u'might': 1, u'techcrunch': 1, u'then': 1, u'them': 2, u'good': 1, u'effects': 1, u'they': 2, u'not': 5, u'scorsese': 1, u'rotation': 1, u'now': 9, u'day': 2, u'viewers': 1, u'name': 1, u'debut': 1, u'loosely': 1, u'engadget': 2, u'coronavirus': 2, u'mode': 1, u'notes': 1, u'trailer': 2, u'profile': 2, u'studios': 1, u'everyone': 1, u'adobe': 2, u'suspended': 1, u'series': 3, u'adventure': 3, u'ea': 3, u'bluetooth': 1, u'goose': 4, u'year': 2, u'et': 1, u'girl': 1, u'bay': 1, u'regionally': 1, u'event': 1, u'whip': 1, u'out': 4, u'blu': 2, u'open': 1, u'since': 2, u'looking': 1, u're': 5, u'max': 2, u'get': 3, u'issue': 1, u'viable': 1, u'announced': 1, u'shows': 1, u'turning': 1, u'possibility': 1, u'previews': 1, u'release': 1, u'completely': 1, u'flyer': 2, u'besides': 1, u'generate': 1, u'card': 1, u'owners': 1, u'could': 3, u'pandemic': 2, u'covid': 1, u'turn': 1, u'lte': 1, u'first': 4, u'major': 1, u'already': 1, u'chromecast': 1, u'number': 1, u'one': 3, u'feet': 1, u'directly': 1, u'titled': 1, u'ring': 3, u'electronic': 1, u'owning': 1, u'heads': 1, u'service': 5, u'their': 4, u'returns': 1, u'friend': 1, u'rewards': 1, u'that': 15, u'memo': 1, u'serve': 1, u'released': 1, u'part': 2, u'off': 3, u'copy': 1, u'ipad': 5, u'b': 2, u'require': 2, u'utopia': 2, u'titles': 2, u'store': 1, u'cards': 1, u'feeling': 1, u'pre': 1, u'mini': 2, u'false': 1, u'pro': 3, u'mind': 1, u'say': 1, u'have': 8, u'close': 1, u'need': 1, u'orders': 1, u'ray': 2, u'sell': 1, u'built': 1, u'able': 1, u'note': 3, u'mix': 1, u'accessories': 1, u'costs': 1, u'which': 2, u'online': 1, u'detector': 1, u'worldwide': 1, u'play': 10, u'added': 1, u'electric': 1, u'though': 2, u'price': 2, u'measures': 1, u'paid': 1, u'most': 1, u'eight': 1, u'plan': 1, u'services': 1, u'accepting': 1, u'the': 52, u'reward': 1, u'don': 2, u'exc': 1, u'mobile': 1, u'performances': 1, u'later': 1, u'm': 1, u'sale': 2, u'tech': 1, u'artistic': 1, u'joining': 1, u'bring': 1, u'radio': 2, u'teamed': 1, u'overwhelmed': 1, u'handmaid': 2, u'giant': 1, u'believe': 1, u'based': 2, u'delays': 1, u'writer': 1, u'written': 1, u'only': 5, u'going': 1, u'folks': 1, u'hit': 1, u'watching': 2, u'stop': 2, u'amazon': 5, u'despite': 1, u'bird': 1, u'prime': 4, u'qr': 2, u'enlisting': 1, u'h': 2, u'remove': 1, u'morning': 2, u'bad': 1, u'activity': 1, u'tunes': 1, u'where': 3, u'steam': 3, u'acquired': 1, u'testing': 2, u'analytics': 3, u'are': 7, u'hell': 1, u'jobs': 1, u'best': 1, u'televised': 1, u'movie': 1, u'currently': 1, u'enough': 1, u'probably': 1, u'across': 3, u'available': 4, u'we': 1, u'attention': 1, u'recently': 1, u'august': 2, u'logins': 1, u'sold': 1, u'handful': 1, u'wi': 1, u'news': 1, u'league': 1, u'c': 1, u'last': 2, u'reported': 1, u'country': 1, u'taking': 2, u'against': 1, u's': 21, u'games': 5, u'buzz': 1, u'adapted': 1, u'roguelike': 1, u'comes': 1, u'and': 18, u'point': 1, u'reasons': 1, u'ca': 1, u'period': 1, u'demos': 1, u'initiative': 1, u'rpg': 1, u'throughout': 1, u'along': 1, u'better': 1, u'snapchat': 3, u'powered': 1, u'create': 1, u'three': 2, u'been': 3, u'pc': 2, u'much': 2, u'waste': 1, u'pm': 1, u'shopping': 2, u'deeper': 1, u'packs': 1, u'releasing': 1, u'hits': 1, u'photos': 1, u'catch': 1, u'countless': 1, u'smartphones': 1, u'reliable': 1, u'n': 1, u'will': 18, u'mls': 1, u'stopping': 1, u'ultra': 1, u'launched': 1, u've': 2, u'conferences': 1, u'almost': 1, u'is': 20, u'site': 1, u'player': 1, u'minds': 1, u'in': 16, u'seattle': 2, u'worry': 1, u'if': 6, u'confirmed': 1, u'annoying': 1, u'podcasting': 1, u'media': 1, u'same': 3, u'any': 2, u'widely': 1, u'units': 1, u'lithium': 1, u'used': 2, u'itch': 1, u'reporting': 1, u'ion': 1, u'codes': 2, u'moving': 1, u'recent': 1, u'discounted': 1, u'older': 2, u'i': 1, u'well': 1, u'picks': 1, u'sports': 1, u'contact': 1, u'y': 2, u'model': 4, u'creators': 1, u'musical': 1, u'left': 1, u'things': 1, u'newest': 1, u'just': 2, u'less': 1, u'photo': 1, u'laptop': 1, u'executive': 1, u'hades': 3, u'thanks': 2, u'useful': 1, u'alternative': 1, u'prince': 1, u'apple': 2, u'tablet': 1, u'also': 2, u'had': 2, u'shortcut': 1, u'snag': 1, u'battery': 1, u'spread': 2, u'sedan': 1, u'struck': 1, u'has': 10, u'smart': 1, u'tests': 1, u'big': 2, u'early': 2, u'game': 5, u'amp': 2, u'bit': 1, u'postal': 1, u'lincoln': 2, u'sorting': 2, u'like': 6, u'gifted': 2, u'streamers': 2, u't': 4, u'martin': 1, u'stylish': 2, u'google': 8, u'often': 2, u'deal': 3, u'people': 3, u'twitter': 2, u'some': 4, u'back': 3, u'library': 1, u'streaming': 5, u'experienced': 1, u'election': 1, u'podcasters': 1, u'adorably': 1, u'for': 20, u'drivable': 1, u'content': 3, u'be': 9, u'subscriptions': 2, u'seconds': 2, u'arts': 1, u'expansion': 1, u'credits': 1, u'nametags': 1, u'by': 5, u'on': 11, u'about': 2, u'anything': 1, u'netflix': 5, u'of': 14, u'months': 1, u'o': 1, u'twitch': 2, u'irishman': 2, u'software': 1, u'researching': 1, u'formerly': 1, u'headsets': 1, u'into': 3, u'washington': 1, u'billions': 1, u'getting': 1, u'down': 1, u'rolling': 1, u'gillian': 2, u'registration': 1, u'happening': 1, u'your': 4, u'stitcher': 1, u'log': 1, u'removing': 1, u'there': 2, u'accordingly': 1, u'way': 1, u'house': 2, u'was': 1, u'flynn': 2, u'offering': 1, u'offer': 1, u'sequel': 1, u'simulator': 1, u'but': 5, u'delivery': 1, u'viewable': 1, u'tvs': 1, u'podcast': 2, u'with': 12, u'posted': 2, u'october': 3, u'mavericks': 1, u'platforms': 3, u'attached': 1, u'up': 3, u'devices': 1, u'untitled': 4, u'customers': 1, u'uk': 1, u'similar': 1, u'display': 1, u'gone': 1, u'promises': 1, u'geese': 1, u'tesla': 4, u'an': 9, u'as': 9, u'right': 1, u'at': 5, u'deezer': 3, u'check': 1, u'physical': 1, u'beyond': 1, u'us': 1, u'no': 2, u'when': 1, u'virtual': 2, u'valid': 1, u'test': 3, u'you': 20, u'roll': 1, u'stat': 1, u'users': 5, u'models': 2, u'update': 6, u'includes': 1, u'nintendo': 2, u'chris': 1, u'depicting': 1, u'ago': 1, u'longer': 1, u'calls': 1, u'samsung': 2, u'dvd': 1, u'youtube': 1, u'memorial': 1, u'u': 1, u'time': 1, u'push': 1, u'lineup': 1, u'starting': 3, u'songs': 2}}
    for word,count in wc.items(): # <type 'list'>: <Too big to print. Len: 610>
      apcount.setdefault(word,0)#{u'all': 1, u'code': 0, u'pointing': 0, u'caused': 0, u'results': 0, u'month': 0, u'kicks': 0}
      if count>1:
        apcount[word]+=1
  except:
    print 'Failed to parse feed %s' % feedurl

wordlist=[]#单词列表
for w,bc in apcount.items():#{u'all': 1, u'code': 0, u'pointing': 0, u'caused': 0, u'copy': 0, u'results': 0, u'month': 0, u'catch': 0, u'excludes': 0, u'young': 0, u'to': 1, u'finally': 0, u'helps': 0, u'th': 1, u'insights': 0, u'garden': 0, u'very': 0, u'facebook': 1, u'fall': 1, u'exits': 0, u'button': 1, u'misinformation': 0, u'companies': 0, u'team': 0, u'sounders': 1, u'heading': 1, u'says': 0, u'instagram': 1, u'dealing': 0, u'cost': 0, u'video': 1, u'n': 0, u'machines': 1, u'even': 0, u'what': 0, u'deeply': 0, u'find': 0, u'access': 1, u'public': 1, u'version': 0, u'new': 1, u'ever': 0, u'bird': 0, u'can': 1, u'full': 0, u'velazco': 0, u'here': 0, u'hundreds': 0, u'reported': 0, u'let': 0, u'free': 1, u'making': 1, u'active': 0, u'november': 0, u'change': 0, u'search': 1, u'kids': 1, u'usps': 0, u'allows': 1, u'house': 1, u'membership': 0, u'products': 0, u'social': 0, u'action': 0, u'ipados': 0, u'options': 0, u'via': 0, u'shuffle': 1, u'wearables': 0, u'app': 1, u'editors': 0, u'nametags': 0, u'from': 1, u'stream': 1, u'two': 1, u'next': 1, u'few': 1, u'camera': 0, u'music': 1, u'wondering': 0, u'until': 0, u'today': 1, u'more': 1, u'upcoming': 1, u'started': 1, u'company': 1, u'accessories': 0, u'phone': 1, u'visual': 0, u'known': 0, u'subscription': 1, u'walled': 0, u'account': 0, u'trackers': 0, u'this': 1, u'supergiant': 0, u'work': 0, u'era': 0, u'of': 1, u'meet': 1, u'drops': 0, u'could': 1, u'dedicated': 0, u'links': 0, u'give': 0, u'december': 0, u'purposes': 0, u'states': 0, u'mayhem': 0, u'something': 1, u'want': 1, u'hits': 0, u'information': 0, u'united': 0, u'watching': 1, u'feature': 1, u'delay': 0, u'how': 1, u'criterion': 1, u'answer': 0, u'profile': 1, u'lte': 0, u'may': 0, u'stop': 1, u'after': 1, u'confirmed': 0, u'collection': 0, u'catalog': 0, u'adventure': 1, u'a': 1, u'short': 0, u'effective': 0, u'oculus': 1, u'st': 1, u'tale': 1, u'defaced': 0, u'switch': 1, u'sh': 0, u'vfx': 0, u'looking': 0, u'playing': 1, u'six': 0, u'help': 0, u'september': 1, u'soon': 1, u'years': 0, u'produced': 0, u'including': 0, u'converting': 0, u'still': 1, u'its': 1, u'before': 0, u'spotify': 1, u'fit': 1, u'located': 0, u'll': 1, u'destroyed': 0, u'platform': 0, u'systems': 0, u'relate': 0, u'mail': 1, u'weeks': 0, u'soccer': 0, u'might': 0, u'techcrunch': 0, u'then': 0, u'them': 1, u'good': 0, u'effects': 0, u'they': 1, u'not': 1, u'scorsese': 0, u'rotation': 0, u'now': 1, u'day': 1, u'viewers': 0, u'name': 0, u'debut': 0, u'loosely': 0, u'engadget': 1, u'coronavirus': 1, u'mode': 0, u'notes': 0, u'trailer': 1, u'plandemic': 1, u'studios': 0, u'everyone': 0, u'adobe': 1, u'directly': 0, u'michael': 0, u'ea': 1, u'bluetooth': 0, u'goose': 1, u'year': 1, u'et': 0, u'girl': 0, u'morning': 1, u'regionally': 0, u'event': 0, u'whip': 0, u'out': 1, u'billions': 0, u'blu': 1, u'electronic': 0, u'since': 1, u'rd': 0, u're': 1, u'max': 1, u'issue': 0, u'viable': 0, u'announced': 0, u'shows': 0, u'reporting': 0, u'turning': 0, u'experiment': 0, u'possibility': 0, u'previews': 0, u'tunes': 0, u'completely': 0, u'flyer': 1, u'besides': 0, u'generate': 0, u'card': 0, u'owners': 0, u'recipes': 0, u'pandemic': 1, u'covid': 0, u'turn': 0, u'w': 0, u'first': 1, u'major': 0, u'already': 0, u'chromecast': 0, u'number': 0, u'one': 1, u'feet': 0, u'suspended': 0, u'titled': 0, u'ring': 1, u'open': 0, u'owning': 0, u'heads': 0, u'service': 1, u'player': 0, u'their': 1, u'returns': 0, u'friend': 0, u'rewards': 0, u'that': 1, u'memo': 0, u'serve': 0, u'released': 0, u'part': 1, u'discounted': 0, u'believe': 0, u'ipad': 1, u'b': 1, u'require': 1, u'utopia': 1, u'titles': 1, u'store': 0, u'cards': 0, u'feeling': 0, u'pre': 0, u'mini': 1, u'false': 0, u'pro': 1, u'mind': 0, u'say': 0, u'have': 1, u'need': 0, u'orders': 0, u'ray': 1, u'sell': 0, u'built': 0, u'offer': 0, u'able': 0, u'note': 1, u'mix': 0, u'contact': 0, u'which': 1, u'online': 0, u'detector': 0, u'worldwide': 0, u'play': 1, u'added': 0, u'beyond': 0, u'electric': 0, u'though': 1, u'price': 1, u'measures': 0, u'paid': 0, u'most': 0, u'eight': 0, u'plan': 0, u'services': 0, u'accepting': 0, u'model': 1, u'creators': 0, u'don': 1, u'exc': 0, u'mobile': 0, u'performances': 0, u'later': 0, u'm': 0, u'sale': 1, u'tech': 0, u'artistic': 0, u'chris': 0, u'joining': 0, u'bring': 0, u'radio': 1, u'teamed': 0, u'longer': 0, u'overwhelmed': 0, u'handmaid': 1, u'giant': 0, u'axios': 0, u'based': 1, u'delays': 0, u'writer': 0, u'written': 0, u'only': 1, u'going': 0, u'folks': 0, u'hit': 0, u'get': 1, u'watch': 1, u'amazon': 1, u'despite': 0, u'prime': 1, u'qr': 1, u'enlisting': 0, u'h': 1, u'remove': 0, u'bay': 0, u'bad': 0, u'activity': 0, u'release': 0, u'where': 1, u'steam': 1, u'acquired': 0, u'testing': 1, u'analytics': 1, u'are': 1, u'hell': 0, u'close': 0, u'best': 0, u'televised': 0, u'movie': 0, u'currently': 0, u'outside': 1, u'probably': 0, u'across': 1, u'available': 1, u'we': 0, u'handful': 0, u'jobs': 0, u'august': 1, u'logins': 0, u'sold': 0, u'attention': 0, u'wi': 0, u'news': 0, u'valid': 0, u'league': 0, u'c': 0, u'last': 1, u'country': 0, u'taking': 1, u'against': 0, u's': 1, u'games': 1, u'buzz': 0, u'adapted': 0, u'roguelike': 0, u'comes': 0, u'and': 1, u'point': 0, u'reasons': 0, u'ca': 0, u'period': 0, u'initiative': 0, u'rpg': 0, u'throughout': 0, u'along': 0, u'better': 0, u'arts': 0, u'powered': 0, u'create': 0, u'three': 1, u'been': 1, u'pc': 1, u'much': 1, u'waste': 0, u'pm': 0, u'shopping': 1, u'deeper': 0, u'packs': 0, u'designed': 0, u'releasing': 0, u'great': 0, u'photos': 0, u'kicks': 0, u'countless': 0, u'smartphones': 0, u'reliable': 0, u'podcasts': 0, u'will': 1, u'mls': 0, u'fun': 0, u'ultra': 0, u'launched': 0, u've': 1, u'conferences': 0, u'almost': 0, u'is': 1, u'it': 1, u'demos': 0, u'minds': 0, u'in': 1, u'seattle': 1, u'worry': 0, u'if': 1, u'containing': 0, u'deezer': 1, u'podcasting': 0, u'media': 0, u'same': 1, u'any': 1, u'widely': 0, u'units': 0, u'lithium': 0, u'used': 1, u'itch': 0, u'pick': 0, u'ion': 0, u'moving': 0, u'recent': 0, u'off': 1, u'older': 1, u'i': 0, u'well': 0, u'picks': 0, u'costs': 0, u'y': 1, u'the': 1, u'reward': 0, u'musical': 0, u'left': 0, u'things': 0, u'newest': 0, u'just': 1, u'less': 0, u'photo': 0, u'laptop': 0, u'executive': 0, u'hades': 1, u'thanks': 1, u'flynn': 1, u'useful': 0, u'alternative': 0, u'prince': 0, u'apple': 1, u'tablet': 0, u'also': 1, u'had': 1, u'shortcut': 0, u'snag': 0, u'battery': 0, u'spread': 1, u'struck': 0, u'has': 1, u'smart': 0, u'tests': 0, u'big': 1, u'early': 1, u'game': 1, u'amp': 1, u'bit': 0, u'postal': 0, u'lincoln': 1, u'sorting': 1, u'like': 1, u'gifted': 1, u'streamers': 1, u't': 1, u'martin': 0, u'stylish': 1, u'google': 1, u'often': 1, u'deal': 1, u'people': 1, u'twitter': 1, u'some': 1, u'back': 1, u'library': 0, u'streaming': 1, u'experienced': 0, u'election': 0, u'podcasters': 0, u'adorably': 0, u'recently': 0, u'for': 1, u'drivable': 0, u'content': 1, u'be': 1, u'subscriptions': 1, u'seconds': 1, u'expansion': 0, u'credits': 0, u'post': 0, u'by': 1, u'on': 1, u'about': 1, u'anything': 0, u'netflix': 1, u'tracing': 0, u'months': 0, u'o': 0, u'twitch': 1, u'irishman': 1, u'software': 0, u'researching': 0, u'formerly': 0, u'headsets': 0, u'into': 1, u'washington': 0, u'snapchat': 1, u'getting': 0, u'down': 0, u'sedan': 0, u'gillian': 1, u'registration': 0, u'sports': 0, u'your': 1, u'stitcher': 0, u'log': 0, u'removing': 0, u'there': 1, u'accordingly': 0, u'way': 0, u'series': 1, u'was': 0, u'launching': 0, u'stopping': 0, u'offering': 0, u'enough': 0, u'sequel': 0, u'simulator': 0, u'but': 1, u'delivery': 0, u'viewable': 0, u'tvs': 0, u'podcast': 1, u'with': 1, u'posted': 1, u'october': 1, u'mavericks': 0, u'platforms': 1, u'attached': 0, u'up': 1, u'devices': 0, u'untitled': 1, u'customers': 0, u'uk': 0, u'site': 0, u'similar': 0, u'display': 0, u'gone': 0, u'promises': 0, u'geese': 0, u'tesla': 1, u'an': 1, u'as': 1, u'right': 0, u'at': 1, u'annoying': 0, u'check': 0, u'physical': 0, u'codes': 1, u'us': 0, u'no': 1, u'when': 0, u'virtual': 1, u'other': 0, u'test': 1, u'you': 1, u'roll': 0, u'stat': 0, u'users': 1, u'models': 1, u'update': 1, u'includes': 0, u'nintendo': 1, u'rolling': 0, u'depicting': 0, u'ago': 0, u'happening': 0, u'calls': 0, u'samsung': 1, u'dvd': 0, u'youtube': 0, u'memorial': 0, u'u': 0, u'time': 0, u'push': 0, u'lineup': 0, u'starting': 1, u'songs': 1}
  frac=float(bc)/len(feedlist) # 1/2 = 0.5
  if frac>0.1 and frac<0.5:#去掉常见的单词
    wordlist.append(w)

out=file('blogdata1.txt','w')#记录每个博客的所有单词统计情况
out.write('Blog')
for word in wordlist: out.write('\t%s' % word)
out.write('\n')
for blog,wc in wordcounts.items():
  print blog
  out.write(blog)
  for word in wordlist:
    if word in wc: out.write('\t%d' % wc[word])
    else: out.write('\t0')
  out.write('\n')
